{% extends "accounts/settings/base_settings.html" %}
{% load static %}

{% block title %}Změna hesla - Nastavení - QuietPage{% endblock %}

{% block settings_content %}
<div class="settings-page">
    <header class="settings-page-header">
        <h1>Změna hesla</h1>
        <p class="text-muted">Změňte své heslo pro přístup k účtu</p>
    </header>
    
    <form method="post" class="settings-form">
        {% csrf_token %}
        
        <!-- Password Change Form -->
        <section class="form-section">
            <h2 class="form-section-title">Nové heslo</h2>
            
            <div class="form-group">
                <label for="{{ form.old_password.id_for_label }}" class="form-label">
                    {{ form.old_password.label }}
                </label>
                {{ form.old_password }}
                {% if form.old_password.help_text %}
                    <p class="form-help">{{ form.old_password.help_text }}</p>
                {% endif %}
                {% if form.old_password.errors %}
                    <div class="form-errors">
                        {% for error in form.old_password.errors %}
                            <p class="form-error">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.new_password1.id_for_label }}" class="form-label">
                    {{ form.new_password1.label }}
                </label>
                {{ form.new_password1 }}
                {% if form.new_password1.help_text %}
                    <p class="form-help">{{ form.new_password1.help_text }}</p>
                {% endif %}
                {% if form.new_password1.errors %}
                    <div class="form-errors">
                        {% for error in form.new_password1.errors %}
                            <p class="form-error">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.new_password2.id_for_label }}" class="form-label">
                    {{ form.new_password2.label }}
                </label>
                {{ form.new_password2 }}
                {% if form.new_password2.help_text %}
                    <p class="form-help">{{ form.new_password2.help_text }}</p>
                {% endif %}
                {% if form.new_password2.errors %}
                    <div class="form-errors">
                        {% for error in form.new_password2.errors %}
                            <p class="form-error">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </section>
        
        <!-- Security Info -->
        <div class="info-box">
            <h3>Bezpečnost hesla</h3>
            <ul>
                <li>Heslo musí obsahovat minimálně 8 znaků</li>
                <li>Nesmí být příliš podobné vašim osobním údajům</li>
                <li>Nesmí být běžně používané heslo</li>
                <li>Nesmí být tvořeno pouze číslicemi</li>
            </ul>
            <p class="text-muted" style="margin-top: var(--space-sm);">
                Po změně hesla zůstanete přihlášeni na tomto zařízení.
            </p>
        </div>
        
        <!-- Form Actions -->
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                Změnit heslo
            </button>
            <a href="{% url 'accounts:settings-profile' %}" class="btn btn-secondary">
                Zrušit
            </a>
        </div>
    </form>
</div>
{% endblock %}
