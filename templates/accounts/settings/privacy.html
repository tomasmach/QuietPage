{% extends "accounts/settings/base_settings.html" %}
{% load static %}

{% block title %}SoukromÃ­ - NastavenÃ­ - QuietPage{% endblock %}

{% block settings_content %}
<div class="settings-page">
    <header class="settings-page-header">
        <h1>SoukromÃ­</h1>
        <p class="text-muted">Spravujte nastavenÃ­ soukromÃ­ a prohlÃ©dnÄ›te si statistiky svÃ©ho ÃºÄtu</p>
    </header>
    
    <!-- Privacy Settings Form -->
    <form method="post" class="settings-form">
        {% csrf_token %}
        
        <section class="form-section">
            <h2 class="form-section-title">NastavenÃ­ soukromÃ­</h2>
            
            <div class="form-group">
                <div class="form-checkbox-wrapper">
                    {{ form.email_notifications }}
                    <label for="{{ form.email_notifications.id_for_label }}" class="form-checkbox-label">
                        {{ form.email_notifications.label }}
                    </label>
                </div>
                {% if form.email_notifications.help_text %}
                    <p class="form-help">{{ form.email_notifications.help_text }}</p>
                {% endif %}
                {% if form.email_notifications.errors %}
                    <div class="form-errors">
                        {% for error in form.email_notifications.errors %}
                            <p class="form-error">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </section>
        
        <!-- Form Actions -->
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                UloÅ¾it zmÄ›ny
            </button>
        </div>
    </form>
    
    <!-- Account Statistics (Read-only) -->
    <section class="form-section mt-4">
        <h2 class="form-section-title">Statistiky ÃºÄtu</h2>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ“…</div>
                <div class="stat-content">
                    <span class="stat-label">ÃšÄet vytvoÅ™en</span>
                    <span class="stat-value">{{ stats.account_created|date:"j. F Y" }}</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">ğŸ“</div>
                <div class="stat-content">
                    <span class="stat-label">Celkem zÃ¡pisÅ¯</span>
                    <span class="stat-value">{{ stats.total_entries }}</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">âœï¸</div>
                <div class="stat-content">
                    <span class="stat-label">Celkem slov</span>
                    <span class="stat-value">{{ stats.total_words|default:"0" }}</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">ğŸ”¥</div>
                <div class="stat-content">
                    <span class="stat-label">SouÄasnÃ¡ sÃ©rie</span>
                    <span class="stat-value">{{ stats.current_streak }} {% if stats.current_streak == 1 %}den{% elif stats.current_streak >= 2 and stats.current_streak <= 4 %}dny{% else %}dnÃ­{% endif %}</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">ğŸ†</div>
                <div class="stat-content">
                    <span class="stat-label">NejdelÅ¡Ã­ sÃ©rie</span>
                    <span class="stat-value">{{ stats.longest_streak }} {% if stats.longest_streak == 1 %}den{% elif stats.longest_streak >= 2 and stats.longest_streak <= 4 %}dny{% else %}dnÃ­{% endif %}</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">â°</div>
                <div class="stat-content">
                    <span class="stat-label">ÄŒasovÃ© pÃ¡smo</span>
                    <span class="stat-value">{{ user.timezone }}</span>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Data Privacy Info -->
    <section class="form-section">
        <h2 class="form-section-title">VaÅ¡e data</h2>
        
        <div class="info-box">
            <p class="text-muted">
                ğŸ”’ VaÅ¡e zÃ¡znamy jsou Å¡ifrovÃ¡ny a nikdo kromÄ› vÃ¡s k nim nemÃ¡ pÅ™Ã­stup. 
                QuietPage je navrÅ¾en s ohledem na vaÅ¡e soukromÃ­.
            </p>
            <p class="text-muted mt-2">
                Pokud budete chtÃ­t smazat svÅ¯j ÃºÄet, najdete tuto moÅ¾nost v sekci "Smazat ÃºÄet" v menu vlevo.
                SmazÃ¡nÃ­m ÃºÄtu budou trvale odstranÄ›na vÅ¡echna vaÅ¡e data.
            </p>
        </div>
    </section>
</div>
{% endblock %}
